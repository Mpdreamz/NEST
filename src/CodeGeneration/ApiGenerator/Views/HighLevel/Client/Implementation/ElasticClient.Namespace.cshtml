@using RazorLight
@using System.Linq
@using ApiGenerator.Domain
@using System
@using System.Collections.Generic
@using System.Collections.ObjectModel
@using ApiGenerator.Domain.Code
@using ApiGenerator.Domain.Specification
@inherits ApiGenerator.CodeTemplatePage<KeyValuePair<string, ReadOnlyCollection<ApiEndpoint>>>
@{
	KeyValuePair<string, ReadOnlyCollection<ApiEndpoint>> model = Model;
	string ns = model.Key;
	var endpoints = model.Value;
}
@{ IncludeAsync("GeneratorNotice.cshtml", model); }
using System;
using System.Threading;
using System.Threading.Tasks;
using Elasticsearch.Net.@(CsharpNames.ApiNamespace).@(ns)@(CsharpNames.ApiNamespaceSuffix);

// ReSharper disable once CheckNamespace
namespace Nest.@(CsharpNames.ApiNamespace).@(ns)@(CsharpNames.ApiNamespaceSuffix)
{
	///<summary>
	/// Logically groups all <c>@ns</c> API's together so that they may be discovered more naturally.
	/// <para>Not intended to be instantiated directly please defer to the <see cref="IElasticClient.@ns"/> property
	/// on <see cref="IElasticClient"/>.
	///</para>
	///</summary>
	public class @(CsharpNames.HighLevelClientNamespacePrefix)@(model.Key)@(CsharpNames.ClientNamespaceSuffix) : NamespacedClientProxy
	{
		internal @(CsharpNames.HighLevelClientNamespacePrefix)@(model.Key)@(CsharpNames.ClientNamespaceSuffix)(ElasticClient client) : base(client) {}
		@foreach(var e in endpoints)
		{
			IncludeAsync("HighLevel/Client/Implementation/MethodImplementation.cshtml", e.HighLevelModel);
		}
	}
}
