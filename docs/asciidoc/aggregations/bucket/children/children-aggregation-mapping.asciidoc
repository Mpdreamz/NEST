:ref_current: https://www.elastic.co/guide/en/elasticsearch/reference/current

:github: https://github.com/elastic/elasticsearch-net

:nuget: https://www.nuget.org/packages

[[child-aggregation-mapping]]
== Child Aggregation Mapping 

To use the child aggregation you have to make sure 
 a `_parent` mapping is in place, here we create the project
 index with two mapped types, `project` and `commitactivity` and 
 we add a `_parent` mapping from `commitactivity` to `parent` 

[source,csharp]
----
var createProjectIndex = TestClient.GetClient().CreateIndex(typeof(Project), c => c
    .Mappings(map => map
        .Map<Project>(tm => tm.AutoMap())
        .Map<CommitActivity>(tm => tm
            .Parent<Project>() <1>
        )
    )
);
----
<1> Set the parent of `CommitActivity` to the `Project` type

