<html><head><title>Nest - Script Update</title><meta http-equiv="cache-control" content="no-cache"/><meta http-equiv="pragma" content="no-cache"/><meta http-equiv="content-type" content="text/html;charset=utf-8"/><meta http-equiv="expires" content="0"/><meta name="description" content="elasticsearch"/><meta name="keywords" content="nest, elasticsearch, .net, client"/><meta name="author" content="martijn laarman"/><link rel="stylesheet" type="text/css" href="/styles/layout.css"/><link rel="stylesheet" type="text/css" href="/styles/pygments.css"/><link href="http://fonts.googleapis.com/css?family=Ubuntu+Mono|Ubuntu" rel="stylesheet" type="text/css"/><link href="/prettify/prettify.css" type="text/css" rel="stylesheet"/><link href="/prettify/sunburst.css" type="text/css" rel="stylesheet"/><script src="http://code.jquery.com/jquery.min.js" type="text/javascript"></script><script type="text/javascript" src="/prettify/prettify.js"></script><script type="text/javascript" src="/prettify/fix_code_tags.js"></script></head><body><section id="site"><div class="actions"><iframe src="http://ghbtns.com/github-btn.html?user=Mpdreamz&amp;repo=NEST&amp;type=fork&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe><iframe src="http://ghbtns.com/github-btn.html?user=Mpdreamz&amp;repo=NEST&amp;type=watch&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe></div><aside><ul id="top_left_menu"><h4>External</h4><li><a href="http://www.elasticsearch.org" target="_blank">Elasticsearch Docs</a></li><li><a href="http://mpdreamz.mit-license.org/" target="_blank">MIT license</a></li></ul></aside><section id="content"><aside id="menu"><ul id="top_left_menu"><li><a href="/">+ Concepts</a></li><h4>- Core</h4><ul><li><a href="/core/">Index</a></li><li><a href="/core/delete.html">Delete</a></li><li><a href="/core/get.html">Get</a></li><li><a href="/core/multi-get.html">Multi Get</a></li><li><a href="/core/update.html" class="selected">Update</a></li><li><a href="/core/search.html">Search</a></li><li><a href="/core/multi-search.html">Multi Search</a></li><li><a href="/core/percolate.html">Percolate</a></li><li><a href="/core/bulk.html">Bulk</a></li><li><a href="/core/count.html">Count</a></li><li><a href="/core/delete-by-query.html">Delete By Query</a></li><li><a href="/core/more-like-this.html">More Like This</a></li></ul><li><a href="/indices/aliases.html">+ Indices</a></li><li><a href="/cluster/health.html">+ Cluster</a></li><li><a href="/search/basics.html">+ Search</a></li><li><a href="/facets/handling.html">+ Facets</a></li><li><a href="/query/text.html">+ Query DSL</a></li><li><a href="/filter/and.html">+ Filter DSL</a></li></ul></aside><article><div id="content-margin-fix"><h1 id="update-by-script-api">Update by script API</h1>
<p>The update API allows to update a document based on a script provided. The operation gets the document (collocated with the shard) from the index, runs the script (with optional script language and parameters), and index back the result (also allows to delete, or ignore the operation). It uses versioning to make sure no updates have happened during the “get” and “reindex”. (available from <code>0.19</code> onwards).</p>
<pre><code>this.ConnectedClient.Update&lt;ElasticSearchProject&gt;(u =&gt; u
    .Object(project)
    .Script(&quot;ctx._source.loc += 10&quot;)
    .RetriesOnConflict(5)
    .Refresh()
);
</code></pre><p>This is just a simple example all the options that are available (such as passing params) are available. </p>
</div></article></section></section></body></html>